<launch>

  <!-- We resume the logic in empty_world.launch, changing only the name of the world to be launched -->
  <include file="$(find gazebo_ros)/launch/empty_world.launch">
    <arg name="world_name" value="$(find agent-smith_gazebo)/worlds/FRC2018_cubeless.world" />
    <!--arg name="debug" value="true" /-->
    <!-- more default parameters can be changed here -->
  </include>

  <!-- Spawn a robot into Gazebo -->
  <group ns="/sim">
    <param name="tf_prefix" value="sim" />
    <param name="robot_description" command="$(find xacro)/xacro --inorder $(find agent-smith_description)/urdf/agent-smith.urdf.xacro" />
    <node name="spawn_urdf"
          pkg="gazebo_ros"
          type="spawn_model"
          args="-param robot_description
                -urdf
                -model robot
                -x 0 -y -7 -z 0" />
  </group>

  <!-- Start rviz -->
  <node pkg="rviz" type="rviz" name="rviz" args="-d $(find agent-smith_gazebo)/rviz/xbot.rviz"/>

  <!-- Publish a static map frame -->
  <!-- <node name="static_tf_publisher" pkg="tf" type="static_transform_publisher" args="0 0 0 0 0 0 map sim/base_link 100" /> -->

</launch>